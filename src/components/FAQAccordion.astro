---
import { getCollection } from 'astro:content';
import { t } from "@/lib/i18n";
const { lang = 'en' } = Astro.props as { lang: string };
const items = (await getCollection('faq')).filter(i => i.data.locale === lang).sort((a,b) => (a.data.order ?? 0) - (b.data.order ?? 0));
---
<section class="container py-16">
  <h2 class="text-2xl font-semibold mb-6">{t('faq','title', lang as any)}</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    {items.map((it) => (
      <details class="card p-4">
        <summary class="cursor-pointer select-none text-sm font-medium">{it.data.question}</summary>
        <div class="prose prose-invert mt-2 max-w-none" set:html={it.body} />
      </details>
    ))}
  </div>
</section>
