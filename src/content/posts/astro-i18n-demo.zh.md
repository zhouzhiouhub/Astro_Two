---
locale: zh
slugBase: astro-i18n-demo
title: "Astro i18n æ¼”ç¤ºï¼šæœ¬åœ°åŒ–è·¯ç”±ä¸å†…å®¹"
description: "æ¼”ç¤ºå¦‚ä½•é€šè¿‡ [lang] è·¯ç”±ä¸å†…å®¹é›†åˆæ¥ç»„ç»‡å¤šè¯­è¨€æ–‡ç« ã€‚"
date: 2025-10-23
tags: [astro, i18n, content]
summary: "å®Œæ•´æ‹†è§£ Astro å¤šè¯­è¨€ç«™ç‚¹å®è·µï¼šé…ç½®è·¯ç”±ã€ç»´æŠ¤å…±äº«å­—å…¸ã€æ¸²æŸ“ä¸­è‹±æ–‡æ–‡ç« ï¼Œå¹¶åœ¨ä¸ç‰ºç‰²æ€§èƒ½çš„å‰æä¸‹è¾“å‡º hreflangã€Accept-Language ç­‰ SEO å…ƒæ•°æ®ã€‚"
cover:
  src: "./media/blog-astro-i18n.svg"
  alt: "Astro å¤šè¯­è¨€è·¯ç”±æµç¨‹å›¾"
canonical: "https://zhouzhiou.com/zh/blog/astro-i18n-demo"
related: ["astro-keywords"]
---

```markdown
# ğŸŒ Astro å›½é™…åŒ–ï¼ˆi18nï¼‰è·¯ç”±å®è·µæŒ‡å—

åœ¨æ„å»ºå¤šè¯­è¨€ç½‘ç«™æ—¶ï¼Œå›½é™…åŒ–ï¼ˆi18nï¼‰æ˜¯æå‡å…¨çƒç”¨æˆ·ä½“éªŒçš„é‡è¦ç¯èŠ‚ã€‚  
æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥äº†è§£å¦‚ä½•åœ¨ **Astro** ä¸­å®ç°ä¼˜é›…çš„å¤šè¯­è¨€ï¼ˆå›½é™…åŒ–ï¼‰è·¯ç”±ã€‚

---

## ğŸ§­ ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© Astro è¿›è¡Œå›½é™…åŒ–ï¼Ÿ

Astro æ˜¯ä¸€ä¸ªç°ä»£é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œä¸“æ³¨äºæ€§èƒ½ä¸çµæ´»æ€§ã€‚  
å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ â€œ**å²›å±¿æ¶æ„ï¼ˆIslands Architectureï¼‰**â€ â€”â€” è®©é¡µé¢çš„é™æ€éƒ¨åˆ†ä¿æŒçº¯å‡€ï¼ŒåŒæ—¶åªåœ¨éœ€è¦çš„åœ°æ–¹åŠ è½½ JavaScriptã€‚

ç›¸æ¯”äº Next.js æˆ– Nuxtï¼ŒAstro æ²¡æœ‰å†…ç½® i18n æ”¯æŒï¼Œä½†æä¾›äº†æå¼ºçš„è·¯ç”±ç³»ç»Ÿä¸çµæ´»çš„æ’ä»¶ç”Ÿæ€ã€‚  
è¿™è®©å¼€å‘è€…èƒ½å¤Ÿæ ¹æ®é¡¹ç›®è§„æ¨¡ä¸éœ€æ±‚ï¼Œè‡ªç”±å®šåˆ¶å¤šè¯­è¨€è·¯ç”±é€»è¾‘ã€‚

---

## ğŸ—ï¸ äºŒã€å›½é™…åŒ–è·¯ç”±çš„åŸºæœ¬è®¾è®¡

å¸¸è§çš„å›½é™…åŒ– URL ç»“æ„æœ‰ä»¥ä¸‹å‡ ç§ï¼š

| æ¨¡å¼ | ç¤ºä¾‹ URL | è¯´æ˜ |
|------|-----------|------|
| å­è·¯å¾„æ¨¡å¼ | `/en/about`ã€`/zh/about` | æœ€å¸¸è§ä¸” SEO å‹å¥½ |
| å­åŸŸæ¨¡å¼ | `en.example.com`ã€`zh.example.com` | å¤šç«™ç‚¹éƒ¨ç½² |
| æŸ¥è¯¢å‚æ•° | `/about?lang=zh` | ç®€å•ä½†ä¸æ¨èç”¨äº SEO |

åœ¨ Astro ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸é€‰æ‹© **å­è·¯å¾„æ¨¡å¼**ï¼Œå› ä¸ºå®ƒï¼š

- ä¸ Astro çš„æ–‡ä»¶è·¯ç”±å¤©ç„¶å…¼å®¹ï¼›
- æ›´æ˜“è¢«æœç´¢å¼•æ“è¯†åˆ«ï¼›
- æ–¹ä¾¿éƒ¨ç½²åˆ°é™æ€ä¸»æœºï¼ˆå¦‚ Vercelã€Netlifyï¼‰ã€‚

---

## ğŸ§© ä¸‰ã€é¡¹ç›®ç»“æ„è®¾è®¡

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç»“æ„æ¥ç»„ç»‡å›½é™…åŒ–é¡µé¢ï¼š

```

src/
pages/
en/
index.astro
about.astro
zh/
index.astro
about.astro
i18n/
en.json
zh.json

````

å…¶ä¸­ï¼š
- æ¯ä¸ªè¯­è¨€å­ç›®å½•ä¸‹çš„æ–‡ä»¶ä»£è¡¨è¯¥è¯­è¨€ç‰ˆæœ¬çš„é¡µé¢ï¼›
- `i18n` æ–‡ä»¶å¤¹å­˜æ”¾æ–‡æœ¬ç¿»è¯‘èµ„æºï¼›
- ä½ å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç»„ä»¶åŠ è½½å¯¹åº”è¯­è¨€åŒ…ã€‚

---

## âš™ï¸ å››ã€åŠ¨æ€åŠ è½½å¤šè¯­è¨€å†…å®¹

å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„è¯­è¨€åŠ è½½å·¥å…·ï¼Œä¾‹å¦‚ï¼š

```ts
// src/utils/i18n.ts
import en from '../i18n/en.json';
import zh from '../i18n/zh.json';

const languages = { en, zh };

export function getLangData(lang: string) {
  return languages[lang] || languages.en;
}
````

åœ¨é¡µé¢ä¸­ä½¿ç”¨ï¼š

```astro
---
import { getLangData } from '../../utils/i18n';
const { lang } = Astro.params;
const t = getLangData(lang);
---

<html lang={lang}>
  <head>
    <title>{t.title}</title>
  </head>
  <body>
    <h1>{t.hello}</h1>
  </body>
</html>
```

---

## ğŸ§  äº”ã€è·¯ç”±å‚æ•°ä¸é€šé…ç¬¦

Astro æ”¯æŒä½¿ç”¨åŠ¨æ€è·¯ç”±å‚æ•°æ¥æ•è·è¯­è¨€å‰ç¼€ã€‚

```astro
// src/pages/[lang]/index.astro
---
import { getLangData } from '../../utils/i18n';
const { lang } = Astro.params;
const t = getLangData(lang);
---

<h1>{t.home_title}</h1>
```

åŒæ—¶ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªé‡å®šå‘é¡µ `/index.astro` æ¥æ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨è·³è½¬ï¼š

```astro
---
// src/pages/index.astro
const userLang = Astro.request.headers.get('accept-language')?.split(',')[0].split('-')[0];
Astro.redirect(`/${userLang ?? 'en'}/`);
---
```

---

## ğŸŒ å…­ã€è¿›é˜¶ï¼šè‡ªåŠ¨åŒ–è·¯ç”±ä¸æœ¬åœ°åŒ–é“¾æ¥

ä¸ºäº†é¿å…é‡å¤ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡ä¸€ä¸ªé€šç”¨å¸ƒå±€ç»„ä»¶ï¼š

```astro
---
// src/layouts/I18nLayout.astro
const { lang, title } = Astro.props;
---
<html lang={lang}>
  <head>
    <title>{title}</title>
  </head>
  <body>
    <nav>
      <a href={`/en/`}>English</a> | <a href={`/zh/`}>ä¸­æ–‡</a>
    </nav>
    <slot />
  </body>
</html>
```

ç„¶ååœ¨æ¯ä¸ªé¡µé¢ä¸­ç›´æ¥å¼•ç”¨ï¼š

```astro
---
import I18nLayout from '../../layouts/I18nLayout.astro';
import { getLangData } from '../../utils/i18n';
const { lang } = Astro.params;
const t = getLangData(lang);
---
<I18nLayout lang={lang} title={t.title}>
  <h1>{t.hello}</h1>
</I18nLayout>
```

---

## ğŸš€ ä¸ƒã€éƒ¨ç½²ä¸ SEO

* **ç”Ÿæˆé™æ€è·¯å¾„**
  é€šè¿‡ `getStaticPaths()` è®© Astro é¢„ç”Ÿæˆæ‰€æœ‰è¯­è¨€ç‰ˆæœ¬ï¼š

  ```ts
  export async function getStaticPaths() {
    const langs = ['en', 'zh'];
    return langs.map((lang) => ({ params: { lang } }));
  }
  ```

* **è®¾ç½® `<html lang>` å±æ€§**
  æœ‰åŠ©äºæœç´¢å¼•æ“æ­£ç¡®è¯†åˆ«è¯­è¨€ã€‚

* **ä½¿ç”¨ `<link rel="alternate" hreflang="...">`**
  æç¤ºä¸åŒè¯­è¨€ç‰ˆæœ¬çš„å¯¹åº”å…³ç³»ï¼Œæé«˜ SEO æ•ˆæœã€‚

---

## ğŸ§© å…«ã€ç»“è¯­

Astro è™½ç„¶æ²¡æœ‰å¼€ç®±å³ç”¨çš„å›½é™…åŒ–åŠŸèƒ½ï¼Œä½†å…¶çµæ´»çš„æ–‡ä»¶è·¯ç”±ä¸ç»„ä»¶ç³»ç»Ÿè®©å®ç°å¤šè¯­è¨€ç½‘ç«™å˜å¾—ç®€å•ä¸”ä¼˜é›…ã€‚
é€šè¿‡åˆç†çš„ç›®å½•è®¾è®¡ä¸è¯­è¨€åŒ…åŠ è½½æœºåˆ¶ï¼Œä½ å¯ä»¥è½»æ¾å®ç°ï¼š

* å¤šè¯­è¨€å†…å®¹åˆ‡æ¢ï¼›
* åŠ¨æ€è·¯ç”±ä¸ SEO å‹å¥½ï¼›
* è‡ªå®šä¹‰å¸ƒå±€ä¸è¯­è¨€å¯¼èˆªã€‚

æœªæ¥ï¼ŒAstro å®˜æ–¹å›¢é˜Ÿä¹Ÿè®¡åˆ’å¼•å…¥æ›´å®Œå–„çš„ i18n æ”¯æŒï¼Œä½†ç°åœ¨ä½ å·²ç»å¯ä»¥ç”¨è¿™äº›æŠ€å·§æ„å»ºä¸“ä¸šçš„å›½é™…åŒ–ç½‘ç«™ï¼

---

> âœ¨ **å°ç»“**ï¼š
>
> * ä½¿ç”¨å­è·¯å¾„è·¯ç”± `/[lang]/` æ˜¯æœ€è‡ªç„¶çš„ i18n æ–¹æ¡ˆï¼›
> * åˆ©ç”¨ `getStaticPaths()` ç”Ÿæˆå¤šè¯­è¨€é¡µé¢ï¼›
> * ç”¨ç»Ÿä¸€å¸ƒå±€ç»„ä»¶å’Œ JSON è¯­è¨€åŒ…ç®¡ç†ç¿»è¯‘ã€‚

---

ğŸ§¡ **ä½œè€…**ï¼šZhouZhiOu
ğŸ“… **æ›´æ–°æ—¥æœŸ**ï¼š2025-10-23
ğŸ“˜ **æ ‡ç­¾**ï¼š`Astro`ã€`i18n`ã€`Webå¼€å‘`ã€`é™æ€ç«™ç‚¹`

```
